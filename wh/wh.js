(function(){const h=document.createElement("div");h.id="wh";h.style="position:fixed;top:10px;left:10px;background:rgba(0,0,0,.8);color:#0f0;border:2px solid #0f0;padding:10px;z-index:9999;font-family:monospace;min-width:200px";const linkEl=document.createElement("link");linkEl.rel="stylesheet";linkEl.href="https://cdn.jsdelivr.net/npm/remixicon@4.6.0/fonts/remixicon.css";document.head.appendChild(linkEl);h.innerHTML=`<h3 style="margin:0;text-align:center">ðŸŒ¿ WeedHack ðŸŒ¿</h3><hr style="border-color:#0f0"><div class="hack-option"><label><input type="checkbox" id="wp"> <i class="ri-layout-row-fill"></i> Platform++ <span class="tooltip">Makes platforms wider</span></label></div><div class="hack-option"><label><input type="checkbox" id="wg"> <i class="ri-rocket-2-fill"></i> Anti-Gravity <span class="tooltip">Reverses gravity to float upwards</span></label></div><div class="hack-option"><label><input type="checkbox" id="wb"> <i class="ri-speed-up-fill"></i> Boost Mode <span class="tooltip">Converts all platforms to boost type</span></label></div><div class="hack-option"><label><input type="checkbox" id="wt"> <i class="ri-teleport-fill"></i> Auto-TP <span class="tooltip">Teleports you when falling off screen</span></label></div><div class="hack-option"><label><input type="checkbox" id="we" checked> <i class="ri-eye-fill"></i> ESP <span class="tooltip">Highlights target platform and draws guide line</span></label></div><div class="hack-option"><label><input type="checkbox" id="wc"> <i class="ri-cursor-fill"></i> TP Click <span class="tooltip">Teleport to platform on click</span></label></div><div class="hack-option"><label><input type="checkbox" id="wm"> <i class="ri-magic-fill"></i> Magic Platform <span class="tooltip">Creates a platform that follows you</span></label></div><div class="hack-option"><label><input type="checkbox" id="wa"> <i class="ri-robot-fill"></i> Auto-Play <span class="tooltip">Bot plays the game for you</span></label></div><hr style="border-color:#0f0"><div style="margin-top:5px;text-align:left">Jump: <input type="range" id="wj" min="5" max="20" value="9"><span>9</span></div><div style="margin-top:5px;text-align:left">Score x<input type="number" id="wsm" min="1" max="100" value="10" style="width:50px;background:black;color:#0f0;border:1px solid #0f0"></div>`;document.body.appendChild(h);const styleEl=document.createElement("style");styleEl.textContent=`.hack-option{margin:3px 0;position:relative;text-align:left}.tooltip{visibility:hidden;background-color:#333;color:#fff;text-align:center;border-radius:4px;padding:5px;position:absolute;z-index:1;left:100%;top:0;margin-left:5px;opacity:0;transition:opacity 0.3s;width:150px;font-size:12px}.hack-option:hover .tooltip{visibility:visible;opacity:1}`;document.head.appendChild(styleEl);let tP=null,tpCooldown=0,isUp=false,autoPlayTimer=0,magicPlatform=null;const p=document.getElementById("wp");const g=document.getElementById("wg");const b=document.getElementById("wb");const t=document.getElementById("wt");const e=document.getElementById("we");const j=document.getElementById("wj");const sm=document.getElementById("wsm");const c=document.getElementById("wc");const m=document.getElementById("wm");const a=document.getElementById("wa");a.addEventListener("change",function(){if(a.checked)t.checked=true;});function findP(){if(tP&&platforms.includes(tP)&&tP.y>0&&tP.y<canvas.height)return tP;isUp=patate.velocityY<0;let vP=[];if(isUp){vP=platforms.filter(p=>p.y<patate.y&&p.y>0);if(vP.length>0)return vP.reduce((a,b)=>(Math.abs(a.y-patate.y)<Math.abs(b.y-patate.y))?a:b);}else{vP=platforms.filter(p=>p.y>patate.y&&p.y<canvas.height);if(vP.length>0)return vP.reduce((a,b)=>(Math.abs(a.y-patate.y)<Math.abs(b.y-patate.y))?a:b);}vP=platforms.filter(p=>p.y>0&&p.y<canvas.height);if(vP.length>0){const bP=vP.filter(p=>p.type==="boost");if(bP.length>0)return bP.reduce((a,b)=>(Math.abs(a.y-patate.y)<Math.abs(b.y-patate.y))?a:b);return vP.reduce((a,b)=>(Math.abs(a.y-patate.y)<Math.abs(b.y-patate.y))?a:b);}return null;}canvas.addEventListener("click",function(event){if(c.checked&&!gameOver&&!gamePaused){const rect=canvas.getBoundingClientRect();const clickX=event.clientX-rect.left;const clickY=event.clientY-rect.top;const nearPlat=platforms.filter(p=>p.y>0&&p.y<canvas.height).reduce((closest,current)=>{const currentDist=Math.sqrt(Math.pow(clickX-(current.x+current.width/2),2)+Math.pow(clickY-current.y,2));const closestDist=Math.sqrt(Math.pow(clickX-(closest.x+closest.width/2),2)+Math.pow(clickY-closest.y,2));return currentDist<closestDist?current:closest;},platforms[0]);patate.x=nearPlat.x+nearPlat.width/2-patate.width/2;patate.y=nearPlat.y-patate.height-1;patate.velocityY=0;}});const origDraw=window.draw;const origUpdate=window.update;window.draw=function(){origDraw();if(e.checked&&(tP=findP())){ctx.beginPath();ctx.rect(tP.x-5,tP.y-5,tP.width+10,tP.height+10);ctx.lineWidth=3;ctx.strokeStyle=isUp?"#ff00ff":"#00ffff";ctx.stroke();ctx.beginPath();ctx.moveTo(patate.x+patate.width/2,patate.y+patate.height/2);ctx.lineTo(tP.x+tP.width/2,tP.y);ctx.strokeStyle=isUp?"rgba(255,0,255,0.5)":"rgba(0,255,255,0.5)";ctx.lineWidth=2;ctx.setLineDash([5,3]);ctx.stroke();ctx.setLineDash([]);}if(m.checked&&magicPlatform){ctx.fillStyle="rgba(255,215,0,0.8)";ctx.fillRect(magicPlatform.x,magicPlatform.y,magicPlatform.width,magicPlatform.height);ctx.strokeStyle="#FFFFFF";ctx.lineWidth=2;ctx.strokeRect(magicPlatform.x,magicPlatform.y,magicPlatform.width,magicPlatform.height);}};const origMoveLeft=window.moveLeft;const origMoveRight=window.moveRight;window.update=function(){if(patate.velocityY===patate.jumpPower||patate.velocityY===patate.jumpPower*1.5){tP=null;}patate.jumpPower=-parseInt(j.value);if(b.checked){platforms.forEach(p=>{if(p.type!=="boost"){p.type="boost";}});}if(p.checked){platforms.forEach(p=>{if(p.width<160){const center=p.x+p.width/2;p.width=160;p.x=center-p.width/2;}});}if(g.checked){patate.gravity=-0.1;}else{patate.gravity=patate.baseGravity;}if(!gameOver&&!gamePaused){if(m.checked){if(!magicPlatform){magicPlatform={x:patate.x-40,y:patate.y+60,width:120,height:10,type:"boost"};}else{magicPlatform.x=patate.x-40;if(patate.velocityY>0&&patate.y+patate.height>magicPlatform.y&&patate.y+patate.height-patate.velocityY<=magicPlatform.y&&patate.x+patate.width>magicPlatform.x&&patate.x<magicPlatform.x+magicPlatform.width){patate.y=magicPlatform.y-patate.height;patate.velocityY=patate.jumpPower*1.5;patate.onGround=true;}}}else{magicPlatform=null;}if(tpCooldown>0)tpCooldown--;if(t.checked&&patate.y>canvas.height-100&&tpCooldown===0){const lP=platforms.filter(p=>p.y>0&&p.y<canvas.height).sort((a,b)=>b.y-a.y)[0];if(lP){patate.x=lP.x+lP.width/2-patate.width/2;patate.y=lP.y-patate.height-5;patate.velocityY=0;tpCooldown=60;}}if(a.checked){autoPlayTimer++;if(autoPlayTimer>=5){autoPlayTimer=0;const nextPlat=findP();if(nextPlat){const targetX=nextPlat.x+nextPlat.width/2-patate.width/2;const diff=targetX-patate.x;if(Math.abs(diff)>5){moveLeft=diff<0;moveRight=diff>0;}else{moveLeft=false;moveRight=false;}if(patate.onGround&&Math.abs(patate.x-targetX)<patate.width){patate.velocityY=patate.jumpPower;patate.onGround=false;}}}}}origUpdate();if(parseInt(sm.value)>1&&score>0){const mult=parseInt(sm.value);const sT=document.getElementById("score");const cDS=parseInt(sT.textContent.split(":")[1]);const tS=score*mult;if(cDS!==tS){sT.textContent="Score : "+tS;}}};j.addEventListener("input",()=>{j.nextElementSibling.textContent=j.value;});})();
